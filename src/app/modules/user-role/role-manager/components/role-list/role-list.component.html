<div class="bg-[#fff] rounded-[8px]">
  <app-title-box [title]="'Danh sách vai trò'"></app-title-box>

  <div class="search-box px-3">
    <form nz-form [formGroup]="form" (ngSubmit)="onSearch()">

      <div class="flex py-3">

        <div class="flex-[60%_0_0] pr-2">
          <app-form-control>
            <app-input
              class="input-text"
              placeholder="Nhập mã/ Tên vai trò"
              formControlName="keyword"
            ></app-input>
          </app-form-control>
        </div>

        <div class="flex flex-[40%_0_0] gap-2">

          <button nz-button nzType="primary" nzBlock class="btn-submit rounded-[8px]" type="submit">
            <span nz-icon nzType="search" nzTheme="outline"></span>
            Tìm kiếm
          </button>

          <button nz-button nzType="primary" nzBlock class="btn-submit rounded-[8px]" type="button" (click)="openDialogAddNewRole()">
            <span nz-icon nzType="plus" nzTheme="outline"></span>
            Thêm mới
          </button>
        </div>

      </div>

    </form>
  </div>

  <div class="table-list px-3 pb-3">
    <div class="basis-0 grow shrink">
      <app-table
        [columns]="columns"
        [items]="items"
        [pagination]="pagination"
        [scrollX]="'900px'"
        (dbClickItem)="onDbClickItem($event)"
        (clickItem)="onClickItem($event)"
        (queryParams)="onQueryParams($event)"
        [displayColumns]="displayColumns"
        [showIndex]="true"
        [checkedKeys]="selectedKeys"
        [loading]="loading$ | async"
        (itemSelected)="onSelectedItem($event)"
        (checkedKeysChange)="onSelectKeysChange($event)"
        [showHightlightRow]="true"
        [showPagination]="pagination.total > 0"
      >
        <ng-template [appCellTemplate]="'actions'" let-item>

          <div class="flex items-center justify-center">
            <button nz-button nzType="text" (click)="onEditItem(item)" class="cursor-pointer px-2">
              <i
                nz-icon
                nzType="edit"
                nzTheme="outline"
                nz-tooltip
                nzTooltipTitle="Sửa vai trò"
              ></i>
            </button>

<!--            <button nz-button nzType="text" (click)="onDeleteItem(item, $event)" class="cursor-pointer px-2">-->
<!--              <i-->
<!--                nz-icon-->
<!--                nzType="delete"-->
<!--                nzTheme="outline"-->
<!--                nz-tooltip-->
<!--                nzTooltipTitle="Xóa"-->
<!--              ></i>-->
<!--            </button>-->
          </div>

        </ng-template>

      </app-table>
    </div>
  </div>
</div>


